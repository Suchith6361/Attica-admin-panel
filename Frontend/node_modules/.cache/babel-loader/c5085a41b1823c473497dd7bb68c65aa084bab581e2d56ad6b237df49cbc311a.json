{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{BASE_URL}from'./constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LeaveForm=()=>{const{employeeId,name,mobileNumber}=useParams();const[leaveRequests,setLeaveRequests]=useState([]);const[employee,setEmployee]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchData=async()=>{setLoading(true);try{const employeeResponse=await axios.get(`${BASE_URL}/employees/${employeeId}/attendance-list`);setEmployee(employeeResponse.data);const leaveRequestsResponse=await axios.get(`${BASE_URL}/employees/${employeeId}/attendance-list/leaves`);setLeaveRequests(leaveRequestsResponse.data);}catch(err){setError(\"Error fetching data. Please try again later.\");console.error(\"Error fetching data:\",err);}finally{setLoading(false);}};fetchData();},[employeeId]);const sortedLeaveRequests=leaveRequests.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-gradient-to-b from-blue-100 to-blue-200 min-h-screen absolute top-20 right-10 left-[275px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-green-500 to-teal-500 p-4 rounded-lg shadow-lg mb-6 hover:shadow-xl transition-shadow duration-300\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Employee Information\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-white\",children:[\"ID: \",employee.employeeId||employeeId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-white\",children:[\"Name: \",employee.name||name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg text-white\",children:[\"Number: \",employee.mobileNumber||mobileNumber]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-black text-center mb-6\",children:\"Leave Requests Inbox\"}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-600\",children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-red-600\",children:error}):sortedLeaveRequests.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sortedLeaveRequests.map((request,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg shadow-lg border-l-4 border-blue-600 relative transition-transform duration-300 hover:scale-105 hover:shadow-xl\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold text-blue-700\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-red-600\",children:[\"Leave Type: \",request.leaveType]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Reason: \",request.reason]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"Start Date: \",new Date(request.startDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"End Date: \",new Date(request.endDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700 absolute right-4 top-4\",children:[\"Applied Date: \",new Date(request.createdAt).toLocaleDateString(),/*#__PURE__*/_jsx(\"br\",{}),\"Applied Time: \",new Date(request.createdAt).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]},index))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-black\",children:\"No leave requests found.\"})]});};export default LeaveForm;","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","BASE_URL","jsx","_jsx","jsxs","_jsxs","LeaveForm","employeeId","name","mobileNumber","leaveRequests","setLeaveRequests","employee","setEmployee","loading","setLoading","error","setError","fetchData","employeeResponse","get","data","leaveRequestsResponse","err","console","sortedLeaveRequests","sort","a","b","Date","createdAt","className","children","length","map","request","index","leaveType","reason","startDate","toLocaleDateString","endDate","toLocaleTimeString","hour","minute"],"sources":["C:/Users/SUCHITH/OneDrive/Desktop/admin_panel new/admin_panel/Frontend/src/components/LeaveForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { BASE_URL } from './constants'\r\n\r\nconst LeaveForm = () => {\r\n  const { employeeId, name, mobileNumber } = useParams();\r\n  const [leaveRequests, setLeaveRequests] = useState([]);\r\n  const [employee, setEmployee] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const employeeResponse = await axios.get(\r\n          `${BASE_URL}/employees/${employeeId}/attendance-list`\r\n        );\r\n        setEmployee(employeeResponse.data);\r\n\r\n        const leaveRequestsResponse = await axios.get(\r\n          `${BASE_URL}/employees/${employeeId}/attendance-list/leaves`\r\n        );\r\n        setLeaveRequests(leaveRequestsResponse.data);\r\n      } catch (err) {\r\n        setError(\"Error fetching data. Please try again later.\");\r\n        console.error(\"Error fetching data:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [employeeId]);\r\n\r\n  const sortedLeaveRequests = leaveRequests.sort(\r\n    (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-6 bg-gradient-to-b from-blue-100 to-blue-200 min-h-screen absolute top-20 right-10 left-[275px]\">\r\n      {/* Employee Information */}\r\n      <div className=\"bg-gradient-to-r from-green-500 to-teal-500 p-4 rounded-lg shadow-lg mb-6 hover:shadow-xl transition-shadow duration-300\">\r\n        <h2 className=\"text-2xl font-bold text-white\">Employee Information</h2>\r\n        <p className=\"text-lg text-white\">ID: {employee.employeeId || employeeId}</p>\r\n        <p className=\"text-lg text-white\">Name: {employee.name || name}</p>\r\n        <p className=\"text-lg text-white\">Number: {employee.mobileNumber || mobileNumber}</p>\r\n      </div>\r\n\r\n      {/* Leave Requests Section */}\r\n      <h2 className=\"text-3xl font-bold text-black text-center mb-6\">Leave Requests Inbox</h2>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-600\">Loading...</p>\r\n      ) : error ? (\r\n        <p className=\"text-center text-red-600\">{error}</p>\r\n      ) : sortedLeaveRequests.length > 0 ? (\r\n        <div className=\"space-y-4\">\r\n          {sortedLeaveRequests.map((request, index) => (\r\n            <div\r\n              key={index}\r\n              className=\"bg-white p-4 rounded-lg shadow-lg border-l-4 border-blue-600 relative transition-transform duration-300 hover:scale-105 hover:shadow-xl\"\r\n            >\r\n              <h3 className=\"text-xl font-semibold text-blue-700\">\r\n                <span className=\"text-red-600\">Leave Type: {request.leaveType}</span>\r\n                <br />\r\n                <span>Reason: {request.reason}</span>\r\n              </h3>\r\n\r\n              <p className=\"text-gray-700\">\r\n                Start Date: {new Date(request.startDate).toLocaleDateString()}\r\n              </p>\r\n              <p className=\"text-gray-700\">\r\n                End Date: {new Date(request.endDate).toLocaleDateString()}\r\n              </p>\r\n\r\n              <p className=\"text-gray-700 absolute right-4 top-4\">\r\n                Applied Date: {new Date(request.createdAt).toLocaleDateString()}\r\n                <br />\r\n                Applied Time: {new Date(request.createdAt).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-center text-black\">No leave requests found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}